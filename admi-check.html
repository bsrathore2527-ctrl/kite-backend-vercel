<!doctype html>
<meta charset="utf-8">
<title>Admin Header Check</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
  body{font-family:system-ui,Segoe UI,Roboto,sans-serif;background:#0b0c10;color:#e5e7eb;margin:0;padding:24px}
  .card{max-width:720px;margin:0 auto;background:#12131a;border:1px solid #222432;border-radius:12px;padding:16px}
  input,button{width:100%;padding:12px;border-radius:10px;border:1px solid #2a2f3f;background:#0f1117;color:#fff}
  button{background:#1e40af;border-color:#1f3b99;font-weight:600;margin-top:10px}
  pre{white-space:pre-wrap;background:#0f1117;border:1px solid #222432;border-radius:10px;padding:12px;margin-top:12px}
</style>
<div class="card">
  <h3>Admin Header Check</h3>
  <p>Enter your <b>ADMIN_TOKEN</b> to test if the backend recognizes it. This calls <code>/api/state</code> with the <code>Authorization</code> header.</p>
  <input id="t" type="password" placeholder="ADMIN_TOKEN" autocomplete="off">
  <button onclick="run()">Test</button>
  <pre id="out">Result will appear hereâ€¦</pre>
</div>
<script>
async function run(){
  const tok = document.getElementById('t').value.trim();
  const r = await fetch('/api/state?t=' + Date.now(), { headers:{ Authorization:'Bearer '+tok }});
  const text = await r.text();
  document.getElementById('out').textContent = text;
}
</script>
