<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdn.tailwindcss.com"></script>
  <title>Admin Login</title>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center p-6">

  <div class="bg-white w-full max-w-md p-6 rounded-xl shadow-lg border border-gray-200">
    <h2 class="text-2xl font-semibold text-gray-900 mb-4 text-center">Admin Login</h2>
    <p class="text-gray-600 text-sm mb-4 text-center">Enter Admin Token to access Master Panel</p>

    <label class="block text-gray-700 font-medium mb-1">Admin Token</label>
    <input id="adminToken" type="password" class="w-full p-3 border rounded-lg mb-4" placeholder="Enter Admin Token" />

    <button onclick="adminLogin()" class="w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-lg">Login</button>

    <p id="errorMsg" class="text-red-600 text-sm mt-3 hidden">Invalid token. Try again.</p>
  </div>

  <script>
    async function adminLogin() {
      const token = document.getElementById('adminToken').value.trim();
      if (!token) return;

      const res = await fetch('/api/admin/verify', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ token })
      });

      const data = await res.json();
      if (data.ok) {
        sessionStorage.setItem('admin-token', token);
        window.location.href = '/admin.html';
      } else {
        document.getElementById('errorMsg').classList.remove('hidden');
      }
    }
  </script>

</body>
</html>
